= ranch:handshake_ciancel(3)

== Name

ranch:handshake_cancel - Cancel the paused transport handshake

== Description

[source,erlang]
----
handshake_cancel(Ref) -> any()

Ref        :: ranch:ref()
----

ancel

This function must be called by the protocol process if it wishes
to cancel a paused handshake.

== Arguments

Ref::

The listener name.

Allowed options depend on the transport module.

== Return value

The return value depends on the transport module.

== Changelog

* *2.0*: Function introduced.

== Examples

.Cancel a multiple-step handshake
[source,erlang]
----
start_link(Ref, _, Transport, Opts) ->
    Pid = proc_lib:spawn_link(?MODULE, init,
        [Ref, Transport, Opts]),
    {ok, Pid}.

init(Ref, Transport, Opts) ->
    {continue, _Info} = ranch:handshake(Ref),
    _ = ranch:handshake_cancel(Ref),
    exit(handshake_cancelled).
----

== See also

link:man:ranch:handshake(3)[ranch:handshake(3)]
link:man:ranch:handshake_continue(3)[ranch:handshake_continue(3)]
link:man:ranch(3)[ranch(3)]
